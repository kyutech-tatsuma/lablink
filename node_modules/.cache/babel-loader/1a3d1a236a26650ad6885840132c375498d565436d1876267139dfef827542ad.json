{"ast":null,"code":"import _slicedToArray from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";//URLを定義する場所を指定するためのインポート\nimport{Routes,Route,Link,useParams,useNavigate}from\"react-router-dom\";import'./App.css';import Loginform from\"./Loginform\";import Dashboardroot from\"./Dashboardroot\";import axios from'axios';import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){return/*#__PURE__*/ (//BrouserRouterの中にURLを定義します。\n_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard/:id\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/atofficechange/:id\",element:/*#__PURE__*/_jsx(Atofficechange,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})}));};//Appをエクスポートします。\nexport default App;var Home=function Home(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isSplashScreenVisible=_useState2[0],setIsSplashScreenVisible=_useState2[1];useEffect(function(){var timer=setTimeout(function(){setIsSplashScreenVisible(false);},2500);return function(){return clearTimeout(timer);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isSplashScreenVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"splash-screen\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/img/takemura-lab-logo.png\",alt:\"\\u6B66\\u6751\\u7814\\u7A76\\u5BA4\\u306E\\u30ED\\u30B4\"})}),!isSplashScreenVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"container text-center mt-5\",children:/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"textarea\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"wow animate__animated animate__fadeInUp slow-animation\",src:\"/img/takemura-lab-logo_.png\",alt:\"\\u6B66\\u6751\\u7814\\u7A76\\u5BA4\\u306E\\u30ED\\u30B4\",style:{maxHeight:'100%',maxWidth:'100%'}}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u3000\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"LabLink\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u3000\"}),/*#__PURE__*/_jsx(\"strong\",{style:{color:\"black\"},children:\"made by takemura lab\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u3000\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"button\",role:\"button\",children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-area\"})]})})]});};//ユーザーログインのフォームです。\nvar Login=function Login(){var baseurl=\"https://lablinkback.fly.dev\";return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Loginform,{baseurl:baseurl})});};//ユーザーのダッシュボードです。\nvar Dashboard=function Dashboard(){var params=useParams();var user_id=params.id;var baseurl=\"https://lablinkback.fly.dev\";return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Dashboardroot,{user_id:user_id,baseurl:baseurl})});};export var Atofficechange=function Atofficechange(){var navigate=useNavigate();var movepage=function movepage(){localStorage.removeItem('access_token');localStorage.removeItem('T-lab_username');navigate('/login');};var baseurl=\"https://lablinkback.fly.dev\";useEffect(function(){var username=localStorage.getItem('T-lab_username');axios.get(baseurl+'/user/').then(function(res){var user=res.data.find(function(user){return user.name===username;});if(user){axios.get(baseurl+\"/user/get_user/\".concat(user.id)).then(function(res){var userData=res.data;if(userData){var updatedUserData={\"name\":userData.name,\"icon\":userData.icon,\"birthday\":userData.birthday,\"is_admin\":userData.is_admin,\"at_office\":!userData.at_office,// Toggle at_office value\n\"current\":userData.current,\"target\":userData.target};axios.post(baseurl+\"/user/update/\".concat(user.id),updatedUserData).then(function(res){console.log('User data updated successfully.',res.data);navigate('/dashboard/'+user.id);}).catch(function(err){console.error('Error updating user data.',err);movepage();});}}).catch(function(err){console.error('Error getting user data.',err);movepage();});}}).catch(function(err){console.error('Error getting user id.',err);movepage();});},[]);return null;};var NotFound=function NotFound(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container text-center mt-5\",children:/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"textarea\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Not Found\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"image-area\",children:/*#__PURE__*/_jsx(\"img\",{class:\"image\",src:\"./img/home_background1.jpg\",alt:\"\\u6B66\\u6751\\u7814\\u7A76\\u5BA4(takemura lab)\\u306E\\u80CC\\u666F\\u753B\\u50CF\"})})]})})});};","map":{"version":3,"names":["React","Routes","Route","Link","useParams","useNavigate","Loginform","Dashboardroot","axios","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","children","exact","path","element","Home","Login","Dashboard","Atofficechange","NotFound","_useState","_useState2","_slicedToArray","isSplashScreenVisible","setIsSplashScreenVisible","timer","setTimeout","clearTimeout","className","src","alt","style","maxHeight","maxWidth","color","to","role","baseurl","params","user_id","id","navigate","movepage","localStorage","removeItem","username","getItem","get","then","res","user","data","find","name","concat","userData","updatedUserData","icon","birthday","is_admin","at_office","current","target","post","console","log","catch","err","error","class"],"sources":["/Users/furuyatatsuma/Desktop/lablink/src/App.js"],"sourcesContent":["import React from \"react\";\n//URLを定義する場所を指定するためのインポート\nimport { Routes, Route, Link, useParams, useNavigate } from \"react-router-dom\";\nimport './App.css';\nimport Loginform from \"./Loginform\"\nimport Dashboardroot from \"./Dashboardroot\";\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\n\nconst App = () => {\n  return (\n    //BrouserRouterの中にURLを定義します。\n    <div>\n      <Routes>\n        <Route exact path=\"/\" element={<Home />} />\n        <Route exact path=\"/login\" element={<Login />} />\n        <Route path=\"/dashboard/:id\" element={<Dashboard />} />\n        <Route path=\"/atofficechange/:id\" element={<Atofficechange />} />\n        <Route path=\"/*\" element={<NotFound />} />\n      </Routes>\n    </div>\n  );\n}\n//Appをエクスポートします。\nexport default App;\n\nconst Home = () => {\n  const [isSplashScreenVisible, setIsSplashScreenVisible] = useState(true);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsSplashScreenVisible(false);\n    }, 2500);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <>\n      {isSplashScreenVisible && (\n        <div className=\"splash-screen\">\n          <img src=\"/img/takemura-lab-logo.png\" alt=\"武村研究室のロゴ\" />\n        </div>\n      )}\n\n      {!isSplashScreenVisible && (\n        <div className=\"container text-center mt-5\">\n          <header>\n            <div className=\"textarea\">\n              <img className='wow animate__animated animate__fadeInUp slow-animation' src=\"/img/takemura-lab-logo_.png\" alt=\"武村研究室のロゴ\" style={{ maxHeight: '100%', maxWidth: '100%' }} />\n              <p>　</p>\n              <h1>LabLink</h1>\n              <p>　</p>\n              <strong style={{ color: \"black\" }}>made by takemura lab</strong>\n              <p>　</p>\n              <p><Link to=\"/login\" className=\"button\" role=\"button\">ログイン</Link></p>\n            </div>\n            <div className=\"image-area\"></div>\n          </header>\n        </div>\n      )}\n    </>\n  );\n};\n//ユーザーログインのフォームです。\nconst Login = () => {\n  let baseurl = \"https://lablinkback.fly.dev\";\n  return (\n    <div>\n      <Loginform baseurl={baseurl} />\n    </div>\n  );\n};\n\n//ユーザーのダッシュボードです。\nconst Dashboard = () => {\n  const params = useParams();\n  const user_id = params.id;\n  let baseurl = \"https://lablinkback.fly.dev\";\n  return (\n    <div>\n      {/* dashboardにuser_idを渡す */}\n      <Dashboardroot user_id={user_id} baseurl={baseurl} />\n    </div>\n  );\n\n};\n\n\nexport const Atofficechange = () => {\n\n  const navigate = useNavigate();\n\n  const movepage = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('T-lab_username');\n    navigate('/login')\n  };\n\n\n  let baseurl = \"https://lablinkback.fly.dev\";\n\n  useEffect(() => {\n    const username = localStorage.getItem('T-lab_username');\n\n    axios.get(baseurl + '/user/').then(res => {\n      const user = res.data.find(user => user.name === username);\n      if (user) {\n        axios.get(baseurl + `/user/get_user/${user.id}`).then(res => {\n          const userData = res.data;\n          if (userData) {\n            const updatedUserData = {\n              \"name\": userData.name,\n              \"icon\": userData.icon,\n              \"birthday\": userData.birthday,\n              \"is_admin\": userData.is_admin,\n              \"at_office\": !userData.at_office, // Toggle at_office value\n              \"current\": userData.current,\n              \"target\": userData.target\n            };\n            axios.post(baseurl + `/user/update/${user.id}`, updatedUserData)\n              .then(res => {\n                console.log('User data updated successfully.', res.data);\n                navigate('/dashboard/' + user.id);\n              })\n              .catch(err => {\n                console.error('Error updating user data.', err);\n                movepage();\n              });\n          }\n        })\n          .catch(err => {\n            console.error('Error getting user data.', err);\n            movepage();\n          });\n      }\n    })\n      .catch(err => {\n        console.error('Error getting user id.', err);\n        movepage();\n      });\n  }, []);\n\n  return null;\n};\n\nconst NotFound = () => {\n  return (\n    <>\n      <div className=\"container text-center mt-5\">\n        <header>\n          <div className=\"textarea\">\n            <h1>Not Found</h1>\n          </div>\n          <div class=\"image-area\">\n            <img class=\"image\" src=\"./img/home_background1.jpg\" alt='武村研究室(takemura lab)の背景画像' />\n          </div>\n        </header>\n      </div>\n    </>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}