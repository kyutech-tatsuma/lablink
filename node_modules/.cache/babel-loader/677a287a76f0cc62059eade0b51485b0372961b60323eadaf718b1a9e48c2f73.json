{"ast":null,"code":"import _regeneratorRuntime from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import axios from'axios';import Informationdetailview from\"./Informationdetailview\";import Informationlistcontent from\"./Informationlistcontent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Informationswitch=function Informationswitch(_ref){var switchview=_ref.switchview,setswitchview=_ref.setswitchview,user_id=_ref.user_id,baseurl=_ref.baseurl;var initialValues={title:\"\",content:\"\",url:\"\",created_at:\"\"};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];// newsの詳細情報の表示を制御するためのスイッチ\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isdetailValue=_useState6[0],setisdetailvalue=_useState6[1];// newsの詳細情報を管理するjson形式の状態変数\nvar _useState7=useState({'id':0,'title':'','content':0,'url':0,'created_at':'',\"created_by\":0}),_useState8=_slicedToArray(_useState7,2),detailvalue=_useState8[0],setdetailevalue=_useState8[1];var state={curDT:new Date().toISOString()};var handleChange=function handleChange(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return postEquipmentdata(formValues);case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var postEquipmentdata=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values){var postdata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(values.title&&values.content&&values.url){postdata={\"title\":values.title,\"content\":values.content,\"url\":values.url,\"created_at\":state.curDT,\"created_by\":user_id};console.log(postdata);console.log(\"\".concat(baseurl,\"/information/\"));axios.post(\"\".concat(baseurl,\"/information/\"),postdata).then(function(response){console.log(response.data);setMessage(\"\");setswitchview(true);}).catch(function(error){setMessage('エラーが発生しました(idの確認)');});}else{setMessage('入力が完了していません');}case 1:case\"end\":return _context2.stop();}},_callee2);}));return function postEquipmentdata(_x2){return _ref3.apply(this,arguments);};}();if(switchview===true){if(isdetailValue===false){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Informationlistcontent,{user_id:user_id,baseurl:baseurl,setisdetailvalue:setisdetailvalue,setdetailevalue:setdetailevalue})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Informationdetailview,{baseurl:baseurl,isdetailValue:isdetailValue,setisdetailvalue:setisdetailvalue,setdetailevalue:setdetailevalue,detailvalue:detailvalue})});}}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary\",children:\"\\u6295\\u7A3F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",name:\"title\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"content\",name:\"content\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"url\",name:\"url\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"p\",{className:\"formmessage\",children:message}),/*#__PURE__*/_jsx(\"button\",{className:\"contentbutton\",onClick:function onClick(e){return handleSubmit(e);},children:\"add\"})]})});}};export default Informationswitch;","map":{"version":3,"names":["React","useState","axios","Informationdetailview","Informationlistcontent","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Informationswitch","_ref","switchview","setswitchview","user_id","baseurl","initialValues","title","content","url","created_at","_useState","_useState2","_slicedToArray","formValues","setFormValues","_useState3","_useState4","message","setMessage","_useState5","_useState6","isdetailValue","setisdetailvalue","_useState7","_useState8","detailvalue","setdetailevalue","state","curDT","Date","toISOString","handleChange","e","preventDefault","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","postEquipmentdata","stop","_x","apply","arguments","_ref3","_callee2","values","postdata","_callee2$","_context2","console","log","concat","post","then","response","data","catch","error","_x2","children","action","className","type","placeholder","required","onChange","onClick"],"sources":["/Users/furuyatatsuma/Desktop/lablink/src/Informationswitch.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport Informationdetailview from \"./Informationdetailview\";\nimport Informationlistcontent from \"./Informationlistcontent\";\n\n\nconst Informationswitch = ({ switchview, setswitchview, user_id, baseurl }) => {\n    const initialValues = { title: \"\", content: \"\", url: \"\", created_at: \"\" };\n    const [formValues, setFormValues] = useState(initialValues);\n    const [message, setMessage] = useState('');\n    // newsの詳細情報の表示を制御するためのスイッチ\n    const [isdetailValue, setisdetailvalue] = useState(false);\n    // newsの詳細情報を管理するjson形式の状態変数\n    const [detailvalue, setdetailevalue] = useState({ 'id': 0, 'title': '', 'content': 0, 'url': 0, 'created_at': '', \"created_by\": 0 });\n    const state = {\n        curDT: new Date().toISOString(),\n    }\n\n    const handleChange = (e) => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        setFormValues({ ...formValues, [name]: value });\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        await postEquipmentdata(formValues);\n    };\n\n    const postEquipmentdata = async (values) => {\n        if (values.title && values.content && values.url) {\n            const postdata = { \"title\": values.title, \"content\": values.content, \"url\": values.url, \"created_at\": state.curDT, \"created_by\": user_id };\n            console.log(postdata);\n            console.log(`${baseurl}/information/`);\n            axios.post(`${baseurl}/information/`, postdata).then((response) => {\n                console.log(response.data);\n                setMessage(\"\");\n                setswitchview(true);\n            })\n                .catch((error) => {\n                    setMessage('エラーが発生しました(idの確認)')\n                })\n        } else {\n            setMessage('入力が完了していません');\n        }\n\n    };\n\n    if (switchview === true) {\n        if (isdetailValue === false) {\n            return (\n                <>\n                    <Informationlistcontent user_id={user_id} baseurl={baseurl} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} />\n                </>\n            );\n        } else {\n            return (\n                <>\n                    <Informationdetailview baseurl={baseurl} isdetailValue={isdetailValue} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} detailvalue={detailvalue} />\n                </>\n            )\n        }\n    } else {\n        return (\n            <>\n                <form action=''>\n                    <h3 className='text-primary'>投稿</h3>\n                    <input type='text' placeholder='title' name='title' required onChange={(e) => handleChange(e)}></input>\n                    <input type='text' placeholder='content' name='content' required onChange={(e) => handleChange(e)}></input>\n                    <input type='text' placeholder='url' name='url' required onChange={(e) => handleChange(e)}></input>\n                    <p className='formmessage'>{message}</p>\n                    <button className=\"contentbutton\" onClick={(e) => handleSubmit(e)}>add</button>\n                </form>\n            </>\n        );\n    }\n};\n\nexport default Informationswitch;"],"mappings":"mnBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,qBAAqB,KAAM,yBAAyB,CAC3D,MAAO,CAAAC,sBAAsB,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG9D,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAAwD,IAAlD,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAAEC,aAAa,CAAAF,IAAA,CAAbE,aAAa,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAAEC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CACpE,GAAM,CAAAC,aAAa,CAAG,CAAEC,KAAK,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAE,CAAEC,GAAG,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAG,CAAC,CACzE,IAAAC,SAAA,CAAoCrB,QAAQ,CAACgB,aAAa,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAA8B1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B;AACA,IAAAG,UAAA,CAA0C9B,QAAQ,CAAC,KAAK,CAAC,CAAA+B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAlDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC;AACA,IAAAG,UAAA,CAAuClC,QAAQ,CAAC,CAAE,IAAI,CAAE,CAAC,CAAE,OAAO,CAAE,EAAE,CAAE,SAAS,CAAE,CAAC,CAAE,KAAK,CAAE,CAAC,CAAE,YAAY,CAAE,EAAE,CAAE,YAAY,CAAE,CAAE,CAAC,CAAC,CAAAmC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7HE,WAAW,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACnC,GAAM,CAAAG,KAAK,CAAG,CACVC,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAClC,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,IAAAC,SAAA,CAAwBF,CAAC,CAACG,MAAM,CAAxBC,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CACnBvB,aAAa,CAAAwB,aAAA,CAAAA,aAAA,IAAMzB,UAAU,KAAA0B,eAAA,IAAGH,IAAI,CAAGC,KAAK,EAAE,CAAC,CACnD,CAAC,CAED,GAAM,CAAAG,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOb,CAAC,SAAAW,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzBlB,CAAC,CAACC,cAAc,CAAC,CAAC,CAACe,QAAA,CAAAE,IAAA,SACb,CAAAC,iBAAiB,CAACtC,UAAU,CAAC,yBAAAmC,QAAA,CAAAI,IAAA,MAAAP,OAAA,GACtC,kBAHK,CAAAL,YAAYA,CAAAa,EAAA,SAAAZ,KAAA,CAAAa,KAAA,MAAAC,SAAA,OAGjB,CAED,GAAM,CAAAJ,iBAAiB,6BAAAK,KAAA,CAAAd,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAa,SAAOC,MAAM,MAAAC,QAAA,QAAAhB,mBAAA,GAAAG,IAAA,UAAAc,UAAAC,SAAA,iBAAAA,SAAA,CAAAZ,IAAA,CAAAY,SAAA,CAAAX,IAAA,SACnC,GAAIQ,MAAM,CAACpD,KAAK,EAAIoD,MAAM,CAACnD,OAAO,EAAImD,MAAM,CAAClD,GAAG,CAAE,CACxCmD,QAAQ,CAAG,CAAE,OAAO,CAAED,MAAM,CAACpD,KAAK,CAAE,SAAS,CAAEoD,MAAM,CAACnD,OAAO,CAAE,KAAK,CAAEmD,MAAM,CAAClD,GAAG,CAAE,YAAY,CAAEmB,KAAK,CAACC,KAAK,CAAE,YAAY,CAAEzB,OAAQ,CAAC,CAC1I2D,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC,CACrBG,OAAO,CAACC,GAAG,IAAAC,MAAA,CAAI5D,OAAO,iBAAe,CAAC,CACtCd,KAAK,CAAC2E,IAAI,IAAAD,MAAA,CAAI5D,OAAO,kBAAiBuD,QAAQ,CAAC,CAACO,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC/DL,OAAO,CAACC,GAAG,CAACI,QAAQ,CAACC,IAAI,CAAC,CAC1BlD,UAAU,CAAC,EAAE,CAAC,CACdhB,aAAa,CAAC,IAAI,CAAC,CACvB,CAAC,CAAC,CACGmE,KAAK,CAAC,SAACC,KAAK,CAAK,CACdpD,UAAU,CAAC,mBAAmB,CAAC,CACnC,CAAC,CAAC,CACV,CAAC,IAAM,CACHA,UAAU,CAAC,aAAa,CAAC,CAC7B,CAAC,wBAAA2C,SAAA,CAAAT,IAAA,MAAAK,QAAA,GAEJ,kBAjBK,CAAAN,iBAAiBA,CAAAoB,GAAA,SAAAf,KAAA,CAAAF,KAAA,MAAAC,SAAA,OAiBtB,CAED,GAAItD,UAAU,GAAK,IAAI,CAAE,CACrB,GAAIoB,aAAa,GAAK,KAAK,CAAE,CACzB,mBACI3B,IAAA,CAAAE,SAAA,EAAA4E,QAAA,cACI9E,IAAA,CAACF,sBAAsB,EAACW,OAAO,CAAEA,OAAQ,CAACC,OAAO,CAAEA,OAAQ,CAACkB,gBAAgB,CAAEA,gBAAiB,CAACI,eAAe,CAAEA,eAAgB,CAAE,CAAC,CACtI,CAAC,CAEX,CAAC,IAAM,CACH,mBACIhC,IAAA,CAAAE,SAAA,EAAA4E,QAAA,cACI9E,IAAA,CAACH,qBAAqB,EAACa,OAAO,CAAEA,OAAQ,CAACiB,aAAa,CAAEA,aAAc,CAACC,gBAAgB,CAAEA,gBAAiB,CAACI,eAAe,CAAEA,eAAgB,CAACD,WAAW,CAAEA,WAAY,CAAE,CAAC,CAC3K,CAAC,CAEX,CACJ,CAAC,IAAM,CACH,mBACI/B,IAAA,CAAAE,SAAA,EAAA4E,QAAA,cACI1E,KAAA,SAAM2E,MAAM,CAAC,EAAE,CAAAD,QAAA,eACX9E,IAAA,OAAIgF,SAAS,CAAC,cAAc,CAAAF,QAAA,CAAC,cAAE,CAAI,CAAC,cACpC9E,IAAA,UAAOiF,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,OAAO,CAACxC,IAAI,CAAC,OAAO,CAACyC,QAAQ,MAACC,QAAQ,CAAE,SAAAA,SAAC9C,CAAC,QAAK,CAAAD,YAAY,CAACC,CAAC,CAAC,EAAC,CAAQ,CAAC,cACvGtC,IAAA,UAAOiF,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,SAAS,CAACxC,IAAI,CAAC,SAAS,CAACyC,QAAQ,MAACC,QAAQ,CAAE,SAAAA,SAAC9C,CAAC,QAAK,CAAAD,YAAY,CAACC,CAAC,CAAC,EAAC,CAAQ,CAAC,cAC3GtC,IAAA,UAAOiF,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,KAAK,CAACxC,IAAI,CAAC,KAAK,CAACyC,QAAQ,MAACC,QAAQ,CAAE,SAAAA,SAAC9C,CAAC,QAAK,CAAAD,YAAY,CAACC,CAAC,CAAC,EAAC,CAAQ,CAAC,cACnGtC,IAAA,MAAGgF,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAEvD,OAAO,CAAI,CAAC,cACxCvB,IAAA,WAAQgF,SAAS,CAAC,eAAe,CAACK,OAAO,CAAE,SAAAA,QAAC/C,CAAC,QAAK,CAAAQ,YAAY,CAACR,CAAC,CAAC,EAAC,CAAAwC,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC7E,CAAC,CACT,CAAC,CAEX,CACJ,CAAC,CAED,cAAe,CAAAzE,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}