{"ast":null,"code":"import _regeneratorRuntime from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Equipmentlistcontent from'./Equipmentlistcontent';import'./Equipmentlistcontent.css';import{useState}from\"react\";import axios from'axios';import Equipmentdetailview from'./Equipmentdetailview';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Equipmentviewswitch=function Equipmentviewswitch(_ref){var switchview=_ref.switchview,user_id=_ref.user_id,baseurl=_ref.baseurl,setswitchview=_ref.setswitchview;var initialValues={bihinmei:\"\",cost:0,buyer:0,bought_data:\"\"};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmit=_useState4[0],setIsSubmit=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];// 備品の詳細情報の表示を制御するためのスイッチ\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isdetailValue=_useState8[0],setisdetailvalue=_useState8[1];// 商品の詳細情報を管理するjson形式の状態変数\nvar _useState9=useState({'id':0,'name':'','price':0,'buyer_id':0,'bought_date':''}),_useState10=_slicedToArray(_useState9,2),detailvalue=_useState10[0],setdetailevalue=_useState10[1];var state={curDT:new Date().toISOString()};var handleChange=function handleChange(e){e.preventDefault();var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsSubmit(true);_context.next=4;return postEquipmentdata(formValues);case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var postEquipmentdata=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values){var postdata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(values.bihinmei&&values.cost){postdata={\"name\":values.bihinmei,\"price\":parseInt(values.cost),\"buyer_id\":parseInt(user_id),\"bought_date\":state.curDT};console.log(postdata);console.log(\"\".concat(baseurl,\"/equipment/\"));axios.post(\"\".concat(baseurl,\"/equipment/\"),postdata).then(function(response){console.log(response.data);setMessage(\"\");setswitchview(true);}).catch(function(error){setMessage('エラーが発生しました(idの確認)');});}else{setMessage('入力が完了していません');}case 1:case\"end\":return _context2.stop();}},_callee2);}));return function postEquipmentdata(_x2){return _ref3.apply(this,arguments);};}();if(switchview===true){if(isdetailValue===false){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Equipmentlistcontent,{user_id:user_id,baseurl:baseurl,setisdetailvalue:setisdetailvalue,setdetailevalue:setdetailevalue})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Equipmentdetailview,{baseurl:baseurl,isdetailValue:isdetailValue,setisdetailvalue:setisdetailvalue,setdetailevalue:setdetailevalue,detailvalue:detailvalue})});}}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-primary\",children:\"\\u5099\\u54C1\\u8FFD\\u52A0\\u30D5\\u30A9\\u30FC\\u30E0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u5099\\u54C1\\u540D\",name:\"bihinmei\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\u30B3\\u30B9\\u30C8\",name:\"cost\",required:true,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(\"p\",{className:\"formmessage\",children:message}),/*#__PURE__*/_jsx(\"button\",{className:\"contentbutton\",onClick:function onClick(e){return handleSubmit(e);},children:\"add\"})]})});};};export default Equipmentviewswitch;","map":{"version":3,"names":["React","Equipmentlistcontent","useState","axios","Equipmentdetailview","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Equipmentviewswitch","_ref","switchview","user_id","baseurl","setswitchview","initialValues","bihinmei","cost","buyer","bought_data","_useState","_useState2","_slicedToArray","formValues","setFormValues","_useState3","_useState4","isSubmit","setIsSubmit","_useState5","_useState6","message","setMessage","_useState7","_useState8","isdetailValue","setisdetailvalue","_useState9","_useState10","detailvalue","setdetailevalue","state","curDT","Date","toISOString","handleChange","e","preventDefault","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","postEquipmentdata","stop","_x","apply","arguments","_ref3","_callee2","values","postdata","_callee2$","_context2","parseInt","console","log","concat","post","then","response","data","catch","error","_x2","children","action","className","type","placeholder","required","onChange","onClick"],"sources":["/Users/furuyatatsuma/Desktop/lablink/src/Equipmentviewswitch.js"],"sourcesContent":["import React from \"react\";\nimport Equipmentlistcontent from './Equipmentlistcontent';\nimport './Equipmentlistcontent.css';\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport Equipmentdetailview from './Equipmentdetailview';\n\nconst Equipmentviewswitch = ({ switchview, user_id, baseurl, setswitchview }) => {\n    const initialValues = { bihinmei: \"\", cost: 0, buyer: 0, bought_data: \"\" };\n    const [formValues, setFormValues] = useState(initialValues);\n    const [isSubmit, setIsSubmit] = useState(false);\n    const [message, setMessage] = useState('');\n    // 備品の詳細情報の表示を制御するためのスイッチ\n    const [isdetailValue, setisdetailvalue] = useState(false);\n    // 商品の詳細情報を管理するjson形式の状態変数\n    const [detailvalue, setdetailevalue] = useState({ 'id': 0, 'name': '', 'price': 0, 'buyer_id': 0, 'bought_date': '' });\n    const state = {\n        curDT: new Date().toISOString(),\n    }\n\n    const handleChange = (e) => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        setFormValues({ ...formValues, [name]: value });\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsSubmit(true);\n        await postEquipmentdata(formValues);\n    };\n\n    const postEquipmentdata = async (values) => {\n        if (values.bihinmei && values.cost) {\n            const postdata = { \"name\": values.bihinmei, \"price\": parseInt(values.cost), \"buyer_id\": parseInt(user_id), \"bought_date\": state.curDT };\n            console.log(postdata);\n            console.log(`${baseurl}/equipment/`);\n            axios.post(`${baseurl}/equipment/`, postdata).then((response) => {\n                console.log(response.data);\n                setMessage(\"\");\n                setswitchview(true);\n            })\n                .catch((error) => {\n                    setMessage('エラーが発生しました(idの確認)')\n                })\n        } else {\n            setMessage('入力が完了していません');\n        }\n\n    };\n\n    if (switchview === true) {\n        if (isdetailValue === false) {\n            return (\n                <>\n                    <Equipmentlistcontent user_id={user_id} baseurl={baseurl} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} />\n                </>\n            );\n        } else {\n            return (\n                <>\n                    <Equipmentdetailview baseurl={baseurl} isdetailValue={isdetailValue} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} detailvalue={detailvalue} />\n                </>\n            )\n        }\n    } else {\n        return (\n            <>\n                <form action=''>\n                    <h3 className='text-primary'>備品追加フォーム</h3>\n                    <input type='text' placeholder='備品名' name='bihinmei' required onChange={(e) => handleChange(e)}></input>\n                    <input type='number' placeholder='コスト' name='cost' required onChange={(e) => handleChange(e)}></input>\n                    <p className='formmessage'>{message}</p>\n                    <button className=\"contentbutton\" onClick={(e) => handleSubmit(e)}>add</button>\n                </form>\n            </>\n        );\n    };\n}\n\nexport default Equipmentviewswitch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}