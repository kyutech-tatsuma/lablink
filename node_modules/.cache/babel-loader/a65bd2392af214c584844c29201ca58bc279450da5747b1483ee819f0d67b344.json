{"ast":null,"code":"import _regeneratorRuntime from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/furuyatatsuma/Desktop/lablink/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import'./Equipmentdetailview.css';import axios from'axios';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Equipmentdetailview=function Equipmentdetailview(_ref){var baseurl=_ref.baseurl,isdetailValue=_ref.isdetailValue,setisdetailvalue=_ref.setisdetailvalue,setdetailevalue=_ref.setdetailevalue,detailvalue=_ref.detailvalue;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setusername=_useState2[1];var switchisdetailValue=function switchisdetailValue(){setisdetailvalue(false);};var deletedata=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"\".concat(baseurl,\"/equipment/\").concat(detailvalue['id']));case 3:setisdetailvalue(false);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function deletedata(){return _ref2.apply(this,arguments);};}();var finishequipment=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var postdata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:postdata={\"name\":detailvalue['name'],\"price\":detailvalue['price'],\"buyer_id\":detailvalue['buyer_id'],\"bought_date\":detailvalue['bought_date']};_context2.prev=1;_context2.next=4;return axios.post(\"\".concat(baseurl,\"/equipment/history/\"),postdata).then(function(res){axios.delete(\"\".concat(baseurl,\"/equipment/\").concat(detailvalue['id'])).then(function(res){setisdetailvalue(false);});});case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[1,6]]);}));return function finishequipment(){return _ref3.apply(this,arguments);};}();useEffect(function(){function getusername(){return _getusername.apply(this,arguments);}function _getusername(){_getusername=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"\".concat(baseurl,\"/user/get_user/\").concat(detailvalue['created_by'])).then(function(res){console.log(res.data.name);setusername(res.data.name);});case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 8:case\"end\":return _context3.stop();}},_callee3,null,[[0,5]]);}));return _getusername.apply(this,arguments);};getusername();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"table\",{className:\"font-japanese\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"name\"}),/*#__PURE__*/_jsx(\"td\",{children:detailvalue['name']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"price\"}),/*#__PURE__*/_jsx(\"td\",{children:detailvalue['price']})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"buyer\"}),/*#__PURE__*/_jsx(\"td\",{children:username})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"bought_date\"}),/*#__PURE__*/_jsx(\"td\",{children:detailvalue['bought_date']})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-primary btn-icon-split\",onClick:switchisdetailValue,children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon text-white-50\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-solid fa-list\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:\"\\u30EA\\u30B9\\u30C8\\u306B\\u623B\\u308B\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-success btn-icon-split\",onClick:finishequipment,children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon text-white-50\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:\"\\u5099\\u54C1\\u4F7F\\u3044\\u5207\\u308A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"btn btn-danger btn-icon-split\",onClick:deletedata,children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon text-white-50\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:\"\\u524A\\u9664\"})]})})]});};export default Equipmentdetailview;","map":{"version":3,"names":["React","axios","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Equipmentdetailview","_ref","baseurl","isdetailValue","setisdetailvalue","setdetailevalue","detailvalue","_useState","_useState2","_slicedToArray","username","setusername","switchisdetailValue","deletedata","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","delete","concat","t0","console","error","stop","apply","arguments","finishequipment","_ref3","_callee2","postdata","_callee2$","_context2","post","then","res","getusername","_getusername","_callee3","_callee3$","_context3","get","log","data","name","children","className","onClick"],"sources":["/Users/furuyatatsuma/Desktop/lablink/src/Equipmentdetailview.js"],"sourcesContent":["import React from \"react\";\nimport './Equipmentdetailview.css';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\n\nconst Equipmentdetailview = ({ baseurl, isdetailValue, setisdetailvalue, setdetailevalue, detailvalue }) => {\n    const [username, setusername] = useState('');\n    const switchisdetailValue = () => {\n        setisdetailvalue(false);\n    };\n\n    const deletedata = async () => {\n        try {\n            await axios.delete(`${baseurl}/equipment/${detailvalue['id']}`);\n            setisdetailvalue(false);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const finishequipment = async () => {\n        const postdata = {\n            \"name\": detailvalue['name'],\n            \"price\": detailvalue['price'],\n            \"buyer_id\": detailvalue['buyer_id'],\n            \"bought_date\": detailvalue['bought_date']\n        }\n        try {\n            await axios.post(`${baseurl}/equipment/history/`, postdata).then(res => {\n                axios.delete(`${baseurl}/equipment/${detailvalue['id']}`).then(res => {\n                    setisdetailvalue(false);\n                })\n            })\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    useEffect(() => {\n        async function getusername() {\n            try {\n                await axios.get(`${baseurl}/user/get_user/${detailvalue['created_by']}`).then(res => {\n                    console.log(res.data.name);\n                    setusername(res.data.name);\n                })\n            } catch (error) {\n                console.error(error);\n            }\n        };\n        getusername();\n    }, [])\n\n    return (\n        <>\n            <table className='font-japanese'>\n                <tbody>\n                    <tr>\n                        <td>name</td>\n                        <td>{detailvalue['name']}</td>\n                    </tr>\n                    <tr>\n                        <td>price</td>\n                        <td>{detailvalue['price']}</td>\n                    </tr>\n                    <tr>\n                        <td>buyer</td>\n                        <td>{username}</td>\n                    </tr>\n                    <tr>\n                        <td>bought_date</td>\n                        <td>{detailvalue['bought_date']}</td>\n                    </tr>\n                </tbody>\n            </table>\n            <div className=\"card-body\">\n                <a className=\"btn btn-primary btn-icon-split\" onClick={switchisdetailValue}>\n                    <span className=\"icon text-white-50\">\n                        <i className=\"fas fa-solid fa-list\"></i>\n                    </span>\n                    <span className=\"text\">リストに戻る</span>\n                </a>\n            </div>\n            <div className=\"card-body\">\n                <a className=\"btn btn-success btn-icon-split\" onClick={finishequipment}>\n                    <span className=\"icon text-white-50\">\n                        <i className=\"fas fa-check\"></i>\n                    </span>\n                    <span className=\"text\">備品使い切り</span>\n                </a>\n            </div>\n            <div className=\"card-body\">\n                <a className=\"btn btn-danger btn-icon-split\" onClick={deletedata}>\n                    <span className=\"icon text-white-50\">\n                        <i className=\"fas fa-trash\"></i>\n                    </span>\n                    <span className=\"text\">削除</span>\n                </a>\n            </div>\n        </>\n    );\n};\n\nexport default Equipmentdetailview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}