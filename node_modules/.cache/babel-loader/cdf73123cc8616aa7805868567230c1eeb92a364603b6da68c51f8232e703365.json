{"ast":null,"code":"var _jsxFileName = \"/Users/furuyatatsuma/Desktop/lablink/src/Equipmentviewswitch.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Equipmentlistcontent from './Equipmentlistcontent';\nimport './Equipmentlistcontent.css';\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport Equipmentdetailview from './Equipmentdetailview';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Equipmentviewswitch = _ref => {\n  _s();\n  let {\n    switchview,\n    user_id,\n    baseurl,\n    setswitchview\n  } = _ref;\n  const initialValues = {\n    bihinmei: \"\",\n    cost: 0,\n    buyer: 0,\n    bought_data: \"\"\n  };\n  const [formValues, setFormValues] = useState(initialValues);\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [message, setMessage] = useState('');\n  // 備品の詳細情報の表示を制御するためのスイッチ\n  const [isdetailValue, setisdetailvalue] = useState(false);\n  // 商品の詳細情報を管理するjson形式の状態変数\n  const [detailvalue, setdetailevalue] = useState({\n    'id': 0,\n    'name': '',\n    'price': 0,\n    'buyer_id': 0,\n    'bought_date': ''\n  });\n  const state = {\n    curDT: new Date().toISOString()\n  };\n  const handleChange = e => {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues({\n      ...formValues,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsSubmit(true);\n    await postEquipmentdata(formValues);\n  };\n  const postEquipmentdata = async values => {\n    if (values.bihinmei && values.cost) {\n      const postdata = {\n        \"name\": values.bihinmei,\n        \"price\": parseInt(values.cost),\n        \"buyer_id\": parseInt(user_id),\n        \"bought_date\": state.curDT\n      };\n      console.log(postdata);\n      console.log(`${baseurl}/equipment/`);\n      axios.post(`${baseurl}/equipment/`, postdata).then(response => {\n        console.log(response.data);\n        setMessage(\"\");\n        setswitchview(true);\n      }).catch(error => {\n        setMessage('エラーが発生しました(idの確認)');\n      });\n    } else {\n      setMessage('入力が完了していません');\n    }\n  };\n  if (switchview == true) {\n    if (isdetailValue == false) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Equipmentlistcontent, {\n          user_id: user_id,\n          baseurl: baseurl,\n          setisdetailvalue: setisdetailvalue,\n          setdetailevalue: setdetailevalue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Equipmentdetailview, {\n          baseurl: baseurl,\n          isdetailValue: isdetailValue,\n          setisdetailvalue: setisdetailvalue,\n          setdetailevalue: setdetailevalue,\n          detailvalue: detailvalue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-primary\",\n          children: \"\\u5099\\u54C1\\u8FFD\\u52A0\\u30D5\\u30A9\\u30FC\\u30E0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u5099\\u54C1\\u540D\",\n          name: \"bihinmei\",\n          required: true,\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"\\u30B3\\u30B9\\u30C8\",\n          name: \"cost\",\n          required: true,\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"formmessage\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"contentbutton\",\n          onClick: e => handleSubmit(e),\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n  ;\n};\n_s(Equipmentviewswitch, \"ktHJodnZK68VmGa3qNVLBbvEhFc=\");\n_c = Equipmentviewswitch;\nexport default Equipmentviewswitch;\nvar _c;\n$RefreshReg$(_c, \"Equipmentviewswitch\");","map":{"version":3,"names":["React","Equipmentlistcontent","useState","axios","Equipmentdetailview","jsxDEV","_jsxDEV","Fragment","_Fragment","Equipmentviewswitch","_ref","_s","switchview","user_id","baseurl","setswitchview","initialValues","bihinmei","cost","buyer","bought_data","formValues","setFormValues","isSubmit","setIsSubmit","message","setMessage","isdetailValue","setisdetailvalue","detailvalue","setdetailevalue","state","curDT","Date","toISOString","handleChange","e","preventDefault","name","value","target","handleSubmit","postEquipmentdata","values","postdata","parseInt","console","log","post","then","response","data","catch","error","children","fileName","_jsxFileName","lineNumber","columnNumber","action","className","type","placeholder","required","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/furuyatatsuma/Desktop/lablink/src/Equipmentviewswitch.js"],"sourcesContent":["import React from \"react\";\nimport Equipmentlistcontent from './Equipmentlistcontent';\nimport './Equipmentlistcontent.css';\nimport { useState } from \"react\";\nimport axios from 'axios';\nimport Equipmentdetailview from './Equipmentdetailview';\n\nconst Equipmentviewswitch = ({ switchview, user_id, baseurl, setswitchview }) => {\n    const initialValues = { bihinmei: \"\", cost: 0, buyer: 0, bought_data: \"\" };\n    const [formValues, setFormValues] = useState(initialValues);\n    const [isSubmit, setIsSubmit] = useState(false);\n    const [message, setMessage] = useState('');\n    // 備品の詳細情報の表示を制御するためのスイッチ\n    const [isdetailValue, setisdetailvalue] = useState(false);\n    // 商品の詳細情報を管理するjson形式の状態変数\n    const [detailvalue, setdetailevalue] = useState({ 'id': 0, 'name': '', 'price': 0, 'buyer_id': 0, 'bought_date': '' });\n    const state = {\n        curDT: new Date().toISOString(),\n    }\n\n    const handleChange = (e) => {\n        e.preventDefault();\n        const { name, value } = e.target;\n        setFormValues({ ...formValues, [name]: value });\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsSubmit(true);\n        await postEquipmentdata(formValues);\n    };\n\n    const postEquipmentdata = async (values) => {\n        if (values.bihinmei && values.cost) {\n            const postdata = { \"name\": values.bihinmei, \"price\": parseInt(values.cost), \"buyer_id\": parseInt(user_id), \"bought_date\": state.curDT };\n            console.log(postdata);\n            console.log(`${baseurl}/equipment/`);\n            axios.post(`${baseurl}/equipment/`, postdata).then((response) => {\n                console.log(response.data);\n                setMessage(\"\");\n                setswitchview(true);\n            })\n                .catch((error) => {\n                    setMessage('エラーが発生しました(idの確認)')\n                })\n        } else {\n            setMessage('入力が完了していません');\n        }\n\n    };\n\n    if (switchview == true) {\n        if (isdetailValue == false) {\n            return (\n                <>\n                    <Equipmentlistcontent user_id={user_id} baseurl={baseurl} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} />\n                </>\n            );\n        } else {\n            return (\n                <>\n                    <Equipmentdetailview baseurl={baseurl} isdetailValue={isdetailValue} setisdetailvalue={setisdetailvalue} setdetailevalue={setdetailevalue} detailvalue={detailvalue} />\n                </>\n            )\n        }\n    } else {\n        return (\n            <>\n                <form action=''>\n                    <h3 className='text-primary'>備品追加フォーム</h3>\n                    <input type='text' placeholder='備品名' name='bihinmei' required onChange={(e) => handleChange(e)}></input>\n                    <input type='number' placeholder='コスト' name='cost' required onChange={(e) => handleChange(e)}></input>\n                    <p className='formmessage'>{message}</p>\n                    <button className=\"contentbutton\" onClick={(e) => handleSubmit(e)}>add</button>\n                </form>\n            </>\n        );\n    };\n}\n\nexport default Equipmentviewswitch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}